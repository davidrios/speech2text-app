import{c as te,a as b,h as v,b as ee,r as P,E as lt,y as ft,F as at,g as J,G as we,H as se,Q as ie,I as vt,J as gt,f as ne,K as Le,L as $e,M as ot,t as X,w as U,N as mt,o as ge,O as ye,x as ht,P as Ie,T as pt,R as bt,S as yt,U as kt,V as it,W as Oe,X as Fe,Y as wt,Z as xt,_ as Ct,$ as St,a0 as qt,a1 as _t,e as de,i as xe,l as Vt,d as Rt,a2 as Mt,a3 as At,a4 as Bt,a5 as Et,a6 as Ft,s as Tt,a7 as fe,a8 as Pt,a9 as $t,aa as ze,ab as It,ac as Ot,z as Ve,A as Re,B as le,D as j,ad as Me,ae as G,af as Dt,ag as ae,ah as Nt,ai as Lt}from"./index.429be16d.js";var Ke=te({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=b(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>v(e.tag,{class:n.value},ee(t.default))}});const Se={dark:{type:Boolean,default:null}};function qe(e,t){return b(()=>e.dark===null?t.dark.isActive:e.dark)}function zt(e,t){const n=P(null),l=b(()=>e.disable===!0?null:v("span",{ref:n,class:"no-outline",tabindex:-1}));function r(d){const f=t.value;d!==void 0&&d.type.indexOf("key")===0?f!==null&&document.activeElement!==f&&f.contains(document.activeElement)===!0&&f.focus():n.value!==null&&(d===void 0||f!==null&&f.contains(d.target)===!0)&&n.value.focus()}return{refocusTargetEl:l,refocusTarget:r}}const rt={name:String};function Kt(e={}){return(t,n,l)=>{t[n](v("input",{class:"hidden"+(l||""),...e.value}))}}function Ht(e){return b(()=>e.name||e.for)}var Qt={xs:30,sm:35,md:40,lg:50,xl:60};const jt={...Se,...at,...rt,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Ut=["update:modelValue"];function Zt(e,t){const{props:n,slots:l,emit:r,proxy:d}=J(),{$q:f}=d,p=qe(n,f),V=P(null),{refocusTargetEl:q,refocusTarget:S}=zt(n,V),C=lt(n,Qt),D=b(()=>n.val!==void 0&&Array.isArray(n.modelValue)),w=b(()=>{const a=se(n.val);return D.value===!0?n.modelValue.findIndex(k=>se(k)===a):-1}),B=b(()=>D.value===!0?w.value>-1:se(n.modelValue)===se(n.trueValue)),N=b(()=>D.value===!0?w.value===-1:se(n.modelValue)===se(n.falseValue)),m=b(()=>B.value===!1&&N.value===!1),E=b(()=>n.disable===!0?-1:n.tabindex||0),h=b(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(n.disable===!0?" disabled":"")+(p.value===!0?` q-${e}--dark`:"")+(n.dense===!0?` q-${e}--dense`:"")+(n.leftLabel===!0?" reverse":"")),z=b(()=>{const a=B.value===!0?"truthy":N.value===!0?"falsy":"indet",k=n.color!==void 0&&(n.keepColor===!0||(e==="toggle"?B.value===!0:N.value!==!0))?` text-${n.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${a}${k}`}),H=b(()=>{const a={type:"checkbox"};return n.name!==void 0&&Object.assign(a,{".checked":B.value,"^checked":B.value===!0?"checked":void 0,name:n.name,value:D.value===!0?n.val:n.trueValue}),a}),Q=Kt(H),$=b(()=>{const a={tabindex:E.value,role:e==="toggle"?"switch":"checkbox","aria-label":n.label,"aria-checked":m.value===!0?"mixed":B.value===!0?"true":"false"};return n.disable===!0&&(a["aria-disabled"]="true"),a});function A(a){a!==void 0&&(we(a),S(a)),n.disable!==!0&&r("update:modelValue",O(),a)}function O(){if(D.value===!0){if(B.value===!0){const a=n.modelValue.slice();return a.splice(w.value,1),a}return n.modelValue.concat([n.val])}if(B.value===!0){if(n.toggleOrder!=="ft"||n.toggleIndeterminate===!1)return n.falseValue}else if(N.value===!0){if(n.toggleOrder==="ft"||n.toggleIndeterminate===!1)return n.trueValue}else return n.toggleOrder!=="ft"?n.trueValue:n.falseValue;return n.indeterminateValue}function s(a){(a.keyCode===13||a.keyCode===32)&&we(a)}function u(a){(a.keyCode===13||a.keyCode===32)&&A(a)}const g=t(B,m);return Object.assign(d,{toggle:A}),()=>{const a=g();n.disable!==!0&&Q(a,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const k=[v("div",{class:z.value,style:C.value,"aria-hidden":"true"},a)];q.value!==null&&k.push(q.value);const R=n.label!==void 0?ft(l.default,[n.label]):ee(l.default);return R!==void 0&&k.push(v("div",{class:`q-${e}__label q-anchor--skip`},R)),v("div",{ref:V,class:h.value,...$.value,onClick:A,onKeydown:s,onKeyup:u},k)}}var He=te({name:"QToggle",props:{...jt,icon:String,iconColor:String},emits:Ut,setup(e){function t(n,l){const r=b(()=>(n.value===!0?e.checkedIcon:l.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),d=b(()=>n.value===!0?e.iconColor:null);return()=>[v("div",{class:"q-toggle__track"}),v("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},r.value!==void 0?[v(ie,{name:r.value,color:d.value})]:void 0)]}return Zt("toggle",t)}}),Wt=te({name:"QCardActions",props:{...vt,vertical:Boolean},setup(e,{slots:t}){const n=gt(e),l=b(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>v("div",{class:l.value},ee(t.default))}}),Gt=te({name:"QCard",props:{...Se,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=J(),l=qe(e,n),r=b(()=>"q-card"+(l.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>v(e.tag,{class:r.value},ee(t.default))}});function Jt(e,t,n){let l;function r(){l!==void 0&&(Le.remove(l),l=void 0)}return ne(()=>{e.value===!0&&r()}),{removeFromHistory:r,addToHistory(){l={condition:()=>n.value===!0,handler:t},Le.add(l)}}}function Yt(){let e=null;const t=J();function n(){e!==null&&(clearTimeout(e),e=null)}return $e(n),ne(n),{removeTimeout:n,registerTimeout(l,r){n(),ot(t)===!1&&(e=setTimeout(l,r))}}}function Xt(){let e;const t=J();function n(){e=void 0}return $e(n),ne(n),{removeTick:n,registerTick(l){e=l,X(()=>{e===l&&(ot(t)===!1&&e(),e=void 0)})}}}const en={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},tn=["beforeShow","show","beforeHide","hide"];function nn({showing:e,canShow:t,hideOnRouteChange:n,handleShow:l,handleHide:r,processOnMount:d}){const f=J(),{props:p,emit:V,proxy:q}=f;let S;function C(h){e.value===!0?B(h):D(h)}function D(h){if(p.disable===!0||h!==void 0&&h.qAnchorHandled===!0||t!==void 0&&t(h)!==!0)return;const z=p["onUpdate:modelValue"]!==void 0;z===!0&&(V("update:modelValue",!0),S=h,X(()=>{S===h&&(S=void 0)})),(p.modelValue===null||z===!1)&&w(h)}function w(h){e.value!==!0&&(e.value=!0,V("beforeShow",h),l!==void 0?l(h):V("show",h))}function B(h){if(p.disable===!0)return;const z=p["onUpdate:modelValue"]!==void 0;z===!0&&(V("update:modelValue",!1),S=h,X(()=>{S===h&&(S=void 0)})),(p.modelValue===null||z===!1)&&N(h)}function N(h){e.value!==!1&&(e.value=!1,V("beforeHide",h),r!==void 0?r(h):V("hide",h))}function m(h){p.disable===!0&&h===!0?p["onUpdate:modelValue"]!==void 0&&V("update:modelValue",!1):h===!0!==e.value&&(h===!0?w:N)(S)}U(()=>p.modelValue,m),n!==void 0&&mt(f)===!0&&U(()=>q.$route.fullPath,()=>{n.value===!0&&e.value===!0&&B()}),d===!0&&ge(()=>{m(p.modelValue)});const E={show:D,hide:B,toggle:C};return Object.assign(q,E),E}const ln={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function an(e,t=()=>{},n=()=>{}){return{transitionProps:b(()=>{const l=`q-transition--${e.transitionShow||t()}`,r=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${l}-enter-from`,enterActiveClass:`${l}-enter-active`,enterToClass:`${l}-enter-to`,leaveFromClass:`${r}-leave-from`,leaveActiveClass:`${r}-leave-active`,leaveToClass:`${r}-leave-to`}}),transitionStyle:b(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let oe=[],ve=[];function ut(e){ve=ve.filter(t=>t!==e)}function on(e){ut(e),ve.push(e)}function Qe(e){ut(e),ve.length===0&&oe.length>0&&(oe[oe.length-1](),oe=[])}function De(e){ve.length===0?e():oe.push(e)}function rn(e){oe=oe.filter(t=>t!==e)}const ke=[];function un(e){return ke.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function sn(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return ye(e)}else if(e.__qPortal===!0){const n=ye(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=ye(e)}while(e!=null)}function dn(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=sn(e,t);continue}e.hide(t)}e=ye(e)}}function cn(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function fn(e,t,n,l){const r=P(!1),d=P(!1);let f=null;const p={},V=l==="dialog"&&cn(e);function q(C){if(C===!0){Qe(p),d.value=!0;return}d.value=!1,r.value===!1&&(V===!1&&f===null&&(f=bt(!1,l)),r.value=!0,ke.push(e.proxy),on(p))}function S(C){if(d.value=!1,C!==!0)return;Qe(p),r.value=!1;const D=ke.indexOf(e.proxy);D!==-1&&ke.splice(D,1),f!==null&&(yt(f),f=null)}return ht(()=>{S(!0)}),e.proxy.__qPortal=!0,Ie(e.proxy,"contentEl",()=>t.value),{showPortal:q,hidePortal:S,portalIsActive:r,portalIsAccessible:d,renderPortal:()=>V===!0?n():r.value===!0?[v(pt,{to:f},n())]:void 0}}function vn(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,kt(t))}}}const re=[];let ce;function gn(e){ce=e.keyCode===27}function mn(){ce===!0&&(ce=!1)}function hn(e){ce===!0&&(ce=!1,it(e,27)===!0&&re[re.length-1](e))}function st(e){window[e]("keydown",gn),window[e]("blur",mn),window[e]("keyup",hn),ce=!1}function pn(e){Oe.is.desktop===!0&&(re.push(e),re.length===1&&st("addEventListener"))}function je(e){const t=re.indexOf(e);t>-1&&(re.splice(t,1),re.length===0&&st("removeEventListener"))}const ue=[];function dt(e){ue[ue.length-1](e)}function bn(e){Oe.is.desktop===!0&&(ue.push(e),ue.length===1&&document.body.addEventListener("focusin",dt))}function Ue(e){const t=ue.indexOf(e);t>-1&&(ue.splice(t,1),ue.length===0&&document.body.removeEventListener("focusin",dt))}let me=0;const yn={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Ze={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var kn=te({name:"QDialog",inheritAttrs:!1,props:{...en,...ln,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...tn,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:l}){const r=J(),d=P(null),f=P(!1),p=P(!1);let V=null,q=null,S,C;const D=b(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:w}=vn(),{registerTimeout:B}=Yt(),{registerTick:N,removeTick:m}=Xt(),{transitionProps:E,transitionStyle:h}=an(e,()=>Ze[e.position][0],()=>Ze[e.position][1]),{showPortal:z,hidePortal:H,portalIsAccessible:Q,renderPortal:$}=fn(r,d,Z,"dialog"),{hide:A}=nn({showing:f,hideOnRouteChange:D,handleShow:R,handleHide:F,processOnMount:!0}),{addToHistory:O,removeFromHistory:s}=Jt(f,A,D),u=b(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${yn[e.position]}`+(p.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),g=b(()=>f.value===!0&&e.seamless!==!0),a=b(()=>e.autoClose===!0?{onClick:L}:{}),k=b(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${g.value===!0?"modal":"seamless"}`,l.class]);U(()=>e.maximized,x=>{f.value===!0&&y(x)}),U(g,x=>{w(x),x===!0?(bn(I),pn(c)):(Ue(I),je(c))});function R(x){O(),q=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,y(e.maximized),z(),p.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),N(M)):m(),B(()=>{if(r.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:T,bottom:Y}=document.activeElement.getBoundingClientRect(),{innerHeight:Ne}=window,_e=window.visualViewport!==void 0?window.visualViewport.height:Ne;T>0&&Y>_e/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-_e,Y>=Ne?1/0:Math.ceil(document.scrollingElement.scrollTop+Y-_e/2))),document.activeElement.scrollIntoView()}C=!0,d.value.click(),C=!1}z(!0),p.value=!1,n("show",x)},e.transitionDuration)}function F(x){m(),s(),_(!0),p.value=!0,H(),q!==null&&(((x&&x.type.indexOf("key")===0?q.closest('[tabindex]:not([tabindex^="-"])'):void 0)||q).focus(),q=null),B(()=>{H(!0),p.value=!1,n("hide",x)},e.transitionDuration)}function M(x){De(()=>{let T=d.value;T===null||T.contains(document.activeElement)===!0||(T=(x!==""?T.querySelector(x):null)||T.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||T.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||T.querySelector("[autofocus], [data-autofocus]")||T,T.focus({preventScroll:!0}))})}function i(x){x&&typeof x.focus=="function"?x.focus({preventScroll:!0}):M(),n("shake");const T=d.value;T!==null&&(T.classList.remove("q-animate--scale"),T.classList.add("q-animate--scale"),V!==null&&clearTimeout(V),V=setTimeout(()=>{V=null,d.value!==null&&(T.classList.remove("q-animate--scale"),M())},170))}function c(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&i():(n("escapeKey"),A()))}function _(x){V!==null&&(clearTimeout(V),V=null),(x===!0||f.value===!0)&&(y(!1),e.seamless!==!0&&(w(!1),Ue(I),je(c))),x!==!0&&(q=null)}function y(x){x===!0?S!==!0&&(me<1&&document.body.classList.add("q-body--dialog"),me++,S=!0):S===!0&&(me<2&&document.body.classList.remove("q-body--dialog"),me--,S=!1)}function L(x){C!==!0&&(A(x),n("click",x))}function o(x){e.persistent!==!0&&e.noBackdropDismiss!==!0?A(x):e.noShake!==!0&&i()}function I(x){e.allowFocusOutside!==!0&&Q.value===!0&&wt(d.value,x.target)!==!0&&M('[tabindex]:not([tabindex="-1"])')}Object.assign(r.proxy,{focus:M,shake:i,__updateRefocusTarget(x){q=x||null}}),ne(_);function Z(){return v("div",{role:"dialog","aria-modal":g.value===!0?"true":"false",...l,class:k.value},[v(Fe,{name:"q-transition--fade",appear:!0},()=>g.value===!0?v("div",{class:"q-dialog__backdrop fixed-full",style:h.value,"aria-hidden":"true",tabindex:-1,onClick:o}):null),v(Fe,E.value,()=>f.value===!0?v("div",{ref:d,class:u.value,style:h.value,tabindex:-1,...a.value},ee(t.default)):null)])}return $}});const wn={xs:8,sm:10,md:14,lg:20,xl:24};var xn=te({name:"QChip",props:{...Se,...at,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:l}}=J(),r=qe(e,l),d=lt(e,wn),f=b(()=>e.selected===!0||e.icon!==void 0),p=b(()=>e.selected===!0?e.iconSelected||l.iconSet.chip.selected:e.icon),V=b(()=>e.iconRemove||l.iconSet.chip.remove),q=b(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),S=b(()=>{const m=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(m?` text-${m} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(q.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(r.value===!0?" q-chip--dark q-dark":"")}),C=b(()=>{const m=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},E={...m,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||l.lang.label.remove};return{chip:m,remove:E}});function D(m){m.keyCode===13&&w(m)}function w(m){e.disable||(n("update:selected",!e.selected),n("click",m))}function B(m){(m.keyCode===void 0||m.keyCode===13)&&(we(m),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function N(){const m=[];q.value===!0&&m.push(v("div",{class:"q-focus-helper"})),f.value===!0&&m.push(v(ie,{class:"q-chip__icon q-chip__icon--left",name:p.value}));const E=e.label!==void 0?[v("div",{class:"ellipsis"},[e.label])]:void 0;return m.push(v("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Ct(t.default,E))),e.iconRight&&m.push(v(ie,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&m.push(v(ie,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:V.value,...C.value.remove,onClick:B,onKeyup:B})),m}return()=>{if(e.modelValue===!1)return;const m={class:S.value,style:d.value};return q.value===!0&&Object.assign(m,C.value.chip,{onClick:w,onKeyup:D}),xt("div",m,N(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[St,e.ripple]])}}});const Cn=[v("rect",{y:"10",width:"15",height:"120",rx:"6"},[v("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),v("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},[v("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),v("rect",{x:"60",width:"15",height:"140",rx:"6"},[v("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),v("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},[v("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),v("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},[v("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),v("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})])];var Sn=te({name:"QSpinnerBars",props:qt,setup(e){const{cSize:t,classes:n}=_t(e);return()=>v("svg",{class:n.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg"},Cn)}}),qn=te({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=J(),l=xe(Vt,de);if(l===de)return console.error("QPage needs to be a deep child of QLayout"),de;if(xe(Rt,de)===de)return console.error("QPage needs to be child of QPageContainer"),de;const d=b(()=>{const p=(l.header.space===!0?l.header.size:0)+(l.footer.space===!0?l.footer.size:0);if(typeof e.styleFn=="function"){const V=l.isContainer.value===!0?l.containerHeight.value:n.screen.height;return e.styleFn(p,V)}return{minHeight:l.isContainer.value===!0?l.containerHeight.value-p+"px":n.screen.height===0?p!==0?`calc(100vh - ${p}px)`:"100vh":n.screen.height-p+"px"}}),f=b(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>v("main",{class:f.value,style:d.value},ee(t.default))}});function We(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var _n=Mt({name:"close-popup",beforeMount(e,{value:t}){const n={depth:We(t),handler(l){n.depth!==0&&setTimeout(()=>{const r=un(e);r!==void 0&&dn(r,l,n.depth)})},handlerKey(l){it(l,13)===!0&&n.handler(l)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=We(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function Vn({validate:e,resetValidation:t,requiresQForm:n}){const l=xe(At,!1);if(l!==!1){const{props:r,proxy:d}=J();Object.assign(d,{validate:e,resetValidation:t}),U(()=>r.disable,f=>{f===!0?(typeof t=="function"&&t(),l.unbindComponent(d)):l.bindComponent(d)}),ge(()=>{r.disable!==!0&&l.bindComponent(d)}),ne(()=>{r.disable!==!0&&l.unbindComponent(d)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Ge=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Je=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Ye=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,he=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,pe=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Ae={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Ge.test(e),hexaColor:e=>Je.test(e),hexOrHexaColor:e=>Ye.test(e),rgbColor:e=>he.test(e),rgbaColor:e=>pe.test(e),rgbOrRgbaColor:e=>he.test(e)||pe.test(e),hexOrRgbColor:e=>Ge.test(e)||he.test(e),hexaOrRgbaColor:e=>Je.test(e)||pe.test(e),anyColor:e=>Ye.test(e)||he.test(e)||pe.test(e)},Rn=[!0,!1,"ondemand"],Mn={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>Rn.includes(e)}};function An(e,t){const{props:n,proxy:l}=J(),r=P(!1),d=P(null),f=P(null);Vn({validate:B,resetValidation:w});let p=0,V;const q=b(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length>0),S=b(()=>n.disable!==!0&&q.value===!0),C=b(()=>n.error===!0||r.value===!0),D=b(()=>typeof n.errorMessage=="string"&&n.errorMessage.length>0?n.errorMessage:d.value);U(()=>n.modelValue,()=>{N()}),U(()=>n.reactiveRules,E=>{E===!0?V===void 0&&(V=U(()=>n.rules,()=>{N(!0)})):V!==void 0&&(V(),V=void 0)},{immediate:!0}),U(e,E=>{E===!0?f.value===null&&(f.value=!1):f.value===!1&&(f.value=!0,S.value===!0&&n.lazyRules!=="ondemand"&&t.value===!1&&m())});function w(){p++,t.value=!1,f.value=null,r.value=!1,d.value=null,m.cancel()}function B(E=n.modelValue){if(S.value!==!0)return!0;const h=++p,z=t.value!==!0?()=>{f.value=!0}:()=>{},H=($,A)=>{$===!0&&z(),r.value=$,d.value=A||null,t.value=!1},Q=[];for(let $=0;$<n.rules.length;$++){const A=n.rules[$];let O;if(typeof A=="function"?O=A(E,Ae):typeof A=="string"&&Ae[A]!==void 0&&(O=Ae[A](E)),O===!1||typeof O=="string")return H(!0,O),!1;O!==!0&&O!==void 0&&Q.push(O)}return Q.length===0?(H(!1),!0):(t.value=!0,Promise.all(Q).then($=>{if($===void 0||Array.isArray($)===!1||$.length===0)return h===p&&H(!1),!0;const A=$.find(O=>O===!1||typeof O=="string");return h===p&&H(A!==void 0,A),A===void 0},$=>(h===p&&(console.error($),H(!0)),!1)))}function N(E){S.value===!0&&n.lazyRules!=="ondemand"&&(f.value===!0||n.lazyRules!==!0&&E!==!0)&&m()}const m=Bt(B,0);return ne(()=>{V!==void 0&&V(),m.cancel()}),Object.assign(l,{resetValidation:w,validate:B}),Ie(l,"hasError",()=>C.value),{isDirtyModel:f,hasRules:q,hasError:C,errorMessage:D,validate:B,resetValidation:w}}const Xe=/^on[A-Z]/;function Bn(e,t){const n={listeners:P({}),attributes:P({})};function l(){const r={},d={};for(const f in e)f!=="class"&&f!=="style"&&Xe.test(f)===!1&&(r[f]=e[f]);for(const f in t.props)Xe.test(f)===!0&&(d[f]=t.props[f]);n.attributes.value=r,n.listeners.value=d}return Et(l),l(),n}let Be,be=0;const W=new Array(256);for(let e=0;e<256;e++)W[e]=(e+256).toString(16).substring(1);const En=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let l=t;l>0;l--)n.push(Math.floor(Math.random()*256));return n}})(),et=4096;function Fn(){(Be===void 0||be+16>et)&&(be=0,Be=En(et));const e=Array.prototype.slice.call(Be,be,be+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,W[e[0]]+W[e[1]]+W[e[2]]+W[e[3]]+"-"+W[e[4]]+W[e[5]]+"-"+W[e[6]]+W[e[7]]+"-"+W[e[8]]+W[e[9]]+"-"+W[e[10]]+W[e[11]]+W[e[12]]+W[e[13]]+W[e[14]]+W[e[15]]}function Te(e){return e===void 0?`f_${Fn()}`:e}function Pe(e){return e!=null&&(""+e).length>0}const Tn={...Se,...Mn,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},Pn=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function $n(){const{props:e,attrs:t,proxy:n,vnode:l}=J();return{isDark:qe(e,n.$q),editable:b(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:P(!1),focused:P(!1),hasPopupOpen:!1,splitAttrs:Bn(t,l),targetUid:P(Te(e.for)),rootRef:P(null),targetRef:P(null),controlRef:P(null)}}function In(e){const{props:t,emit:n,slots:l,attrs:r,proxy:d}=J(),{$q:f}=d;let p=null;e.hasValue===void 0&&(e.hasValue=b(()=>Pe(t.modelValue))),e.emitValue===void 0&&(e.emitValue=i=>{n("update:modelValue",i)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:s,onFocusout:u}),Object.assign(e,{clearValue:g,onControlFocusin:s,onControlFocusout:u,focus:A}),e.computedCounter===void 0&&(e.computedCounter=b(()=>{if(t.counter!==!1){const i=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,c=t.maxlength!==void 0?t.maxlength:t.maxValues;return i+(c!==void 0?" / "+c:"")}}));const{isDirtyModel:V,hasRules:q,hasError:S,errorMessage:C,resetValidation:D}=An(e.focused,e.innerLoading),w=e.floatingLabel!==void 0?b(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):b(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),B=b(()=>t.bottomSlots===!0||t.hint!==void 0||q.value===!0||t.counter===!0||t.error!==null),N=b(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),m=b(()=>`q-field row no-wrap items-start q-field--${N.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(w.value===!0?" q-field--float":"")+(h.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(S.value===!0?" q-field--error":"")+(S.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&B.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),E=b(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(S.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length>0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),h=b(()=>t.labelSlot===!0||t.label!==void 0),z=b(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&S.value!==!0?` text-${t.labelColor}`:"")),H=b(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:w.value,modelValue:t.modelValue,emitValue:e.emitValue})),Q=b(()=>{const i={for:e.targetUid.value};return t.disable===!0?i["aria-disabled"]="true":t.readonly===!0&&(i["aria-readonly"]="true"),i});U(()=>t.for,i=>{e.targetUid.value=Te(i)});function $(){const i=document.activeElement;let c=e.targetRef!==void 0&&e.targetRef.value;c&&(i===null||i.id!==e.targetUid.value)&&(c.hasAttribute("tabindex")===!0||(c=c.querySelector("[tabindex]")),c&&c!==i&&c.focus({preventScroll:!0}))}function A(){De($)}function O(){rn($);const i=document.activeElement;i!==null&&e.rootRef.value.contains(i)&&i.blur()}function s(i){p!==null&&(clearTimeout(p),p=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",i))}function u(i,c){p!==null&&clearTimeout(p),p=setTimeout(()=>{p=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",i)),c!==void 0&&c())})}function g(i){we(i),f.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),X(()=>{D(),f.platform.is.mobile!==!0&&(V.value=!1)})}function a(){const i=[];return l.prepend!==void 0&&i.push(v("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:fe},l.prepend())),i.push(v("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},k())),S.value===!0&&t.noErrorIcon===!1&&i.push(F("error",[v(ie,{name:f.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?i.push(F("inner-loading-append",l.loading!==void 0?l.loading():[v(Pt,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&i.push(F("inner-clearable-append",[v(ie,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||f.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:g})])),l.append!==void 0&&i.push(v("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:fe},l.append())),e.getInnerAppend!==void 0&&i.push(F("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&i.push(e.getControlChild()),i}function k(){const i=[];return t.prefix!==void 0&&t.prefix!==null&&i.push(v("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&i.push(e.getShadowControl()),e.getControl!==void 0?i.push(e.getControl()):l.rawControl!==void 0?i.push(l.rawControl()):l.control!==void 0&&i.push(v("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},l.control(H.value))),h.value===!0&&i.push(v("div",{class:z.value},ee(l.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&i.push(v("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),i.concat(ee(l.default))}function R(){let i,c;S.value===!0?C.value!==null?(i=[v("div",{role:"alert"},C.value)],c=`q--slot-error-${C.value}`):(i=ee(l.error),c="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(i=[v("div",t.hint)],c=`q--slot-hint-${t.hint}`):(i=ee(l.hint),c="q--slot-hint"));const _=t.counter===!0||l.counter!==void 0;if(t.hideBottomSpace===!0&&_===!1&&i===void 0)return;const y=v("div",{key:c,class:"q-field__messages col"},i);return v("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:fe},[t.hideBottomSpace===!0?y:v(Fe,{name:"q-transition--field-message"},()=>y),_===!0?v("div",{class:"q-field__counter"},l.counter!==void 0?l.counter():e.computedCounter.value):null])}function F(i,c){return c===null?null:v("div",{key:i,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},c)}let M=!1;return $e(()=>{M=!0}),Ft(()=>{M===!0&&t.autofocus===!0&&d.focus()}),ge(()=>{Tt.value===!0&&t.for===void 0&&(e.targetUid.value=Te()),t.autofocus===!0&&d.focus()}),ne(()=>{p!==null&&clearTimeout(p)}),Object.assign(d,{focus:A,blur:O}),function(){const c=e.getControl===void 0&&l.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...Q.value}:Q.value;return v("label",{ref:e.rootRef,class:[m.value,r.class],style:r.style,...c},[l.before!==void 0?v("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:fe},l.before()):null,v("div",{class:"q-field__inner relative-position col self-stretch"},[v("div",{ref:e.controlRef,class:E.value,tabindex:-1,...e.controlEvents},a()),B.value===!0?R():null]),l.after!==void 0?v("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:fe},l.after()):null])}}const tt={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Ce={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},ct=Object.keys(Ce);ct.forEach(e=>{Ce[e].regex=new RegExp(Ce[e].pattern)});const On=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+ct.join("")+"])|(.)","g"),nt=/[.*+?^${}()|[\]\\]/g,K=String.fromCharCode(1),Dn={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Nn(e,t,n,l){let r,d,f,p,V,q;const S=P(null),C=P(w());function D(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}U(()=>e.type+e.autogrow,N),U(()=>e.mask,s=>{if(s!==void 0)m(C.value,!0);else{const u=A(C.value);N(),e.modelValue!==u&&t("update:modelValue",u)}}),U(()=>e.fillMask+e.reverseFillMask,()=>{S.value===!0&&m(C.value,!0)}),U(()=>e.unmaskedValue,()=>{S.value===!0&&m(C.value)});function w(){if(N(),S.value===!0){const s=Q(A(e.modelValue));return e.fillMask!==!1?O(s):s}return e.modelValue}function B(s){if(s<r.length)return r.slice(-s);let u="",g=r;const a=g.indexOf(K);if(a>-1){for(let k=s-g.length;k>0;k--)u+=K;g=g.slice(0,a)+u+g.slice(a)}return g}function N(){if(S.value=e.mask!==void 0&&e.mask.length>0&&D(),S.value===!1){p=void 0,r="",d="";return}const s=tt[e.mask]===void 0?e.mask:tt[e.mask],u=typeof e.fillMask=="string"&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",g=u.replace(nt,"\\$&"),a=[],k=[],R=[];let F=e.reverseFillMask===!0,M="",i="";s.replace(On,(L,o,I,Z,x)=>{if(Z!==void 0){const T=Ce[Z];R.push(T),i=T.negate,F===!0&&(k.push("(?:"+i+"+)?("+T.pattern+"+)?(?:"+i+"+)?("+T.pattern+"+)?"),F=!1),k.push("(?:"+i+"+)?("+T.pattern+")?")}else if(I!==void 0)M="\\"+(I==="\\"?"":I),R.push(I),a.push("([^"+M+"]+)?"+M+"?");else{const T=o!==void 0?o:x;M=T==="\\"?"\\\\\\\\":T.replace(nt,"\\\\$&"),R.push(T),a.push("([^"+M+"]+)?"+M+"?")}});const c=new RegExp("^"+a.join("")+"("+(M===""?".":"[^"+M+"]")+"+)?"+(M===""?"":"["+M+"]*")+"$"),_=k.length-1,y=k.map((L,o)=>o===0&&e.reverseFillMask===!0?new RegExp("^"+g+"*"+L):o===_?new RegExp("^"+L+"("+(i===""?".":i)+"+)?"+(e.reverseFillMask===!0?"$":g+"*")):new RegExp("^"+L));f=R,p=L=>{const o=c.exec(e.reverseFillMask===!0?L:L.slice(0,R.length+1));o!==null&&(L=o.slice(1).join(""));const I=[],Z=y.length;for(let x=0,T=L;x<Z;x++){const Y=y[x].exec(T);if(Y===null)break;T=T.slice(Y.shift().length),I.push(...Y)}return I.length>0?I.join(""):L},r=R.map(L=>typeof L=="string"?L:K).join(""),d=r.split(K).join(u)}function m(s,u,g){const a=l.value,k=a.selectionEnd,R=a.value.length-k,F=A(s);u===!0&&N();const M=Q(F),i=e.fillMask!==!1?O(M):M,c=C.value!==i;a.value!==i&&(a.value=i),c===!0&&(C.value=i),document.activeElement===a&&X(()=>{if(i===d){const y=e.reverseFillMask===!0?d.length:0;a.setSelectionRange(y,y,"forward");return}if(g==="insertFromPaste"&&e.reverseFillMask!==!0){const y=a.selectionEnd;let L=k-1;for(let o=V;o<=L&&o<y;o++)r[o]!==K&&L++;h.right(a,L);return}if(["deleteContentBackward","deleteContentForward"].indexOf(g)>-1){const y=e.reverseFillMask===!0?k===0?i.length>M.length?1:0:Math.max(0,i.length-(i===d?0:Math.min(M.length,R)+1))+1:k;a.setSelectionRange(y,y,"forward");return}if(e.reverseFillMask===!0)if(c===!0){const y=Math.max(0,i.length-(i===d?0:Math.min(M.length,R+1)));y===1&&k===1?a.setSelectionRange(y,y,"forward"):h.rightReverse(a,y)}else{const y=i.length-R;a.setSelectionRange(y,y,"backward")}else if(c===!0){const y=Math.max(0,r.indexOf(K),Math.min(M.length,k)-1);h.right(a,y)}else{const y=k-1;h.right(a,y)}});const _=e.unmaskedValue===!0?A(i):i;String(e.modelValue)!==_&&n(_,!0)}function E(s,u,g){const a=Q(A(s.value));u=Math.max(0,r.indexOf(K),Math.min(a.length,u)),V=u,s.setSelectionRange(u,g,"forward")}const h={left(s,u){const g=r.slice(u-1).indexOf(K)===-1;let a=Math.max(0,u-1);for(;a>=0;a--)if(r[a]===K){u=a,g===!0&&u++;break}if(a<0&&r[u]!==void 0&&r[u]!==K)return h.right(s,0);u>=0&&s.setSelectionRange(u,u,"backward")},right(s,u){const g=s.value.length;let a=Math.min(g,u+1);for(;a<=g;a++)if(r[a]===K){u=a;break}else r[a-1]===K&&(u=a);if(a>g&&r[u-1]!==void 0&&r[u-1]!==K)return h.left(s,g);s.setSelectionRange(u,u,"forward")},leftReverse(s,u){const g=B(s.value.length);let a=Math.max(0,u-1);for(;a>=0;a--)if(g[a-1]===K){u=a;break}else if(g[a]===K&&(u=a,a===0))break;if(a<0&&g[u]!==void 0&&g[u]!==K)return h.rightReverse(s,0);u>=0&&s.setSelectionRange(u,u,"backward")},rightReverse(s,u){const g=s.value.length,a=B(g),k=a.slice(0,u+1).indexOf(K)===-1;let R=Math.min(g,u+1);for(;R<=g;R++)if(a[R-1]===K){u=R,u>0&&k===!0&&u--;break}if(R>g&&a[u-1]!==void 0&&a[u-1]!==K)return h.leftReverse(s,g);s.setSelectionRange(u,u,"forward")}};function z(s){t("click",s),q=void 0}function H(s){if(t("keydown",s),$t(s)===!0)return;const u=l.value,g=u.selectionStart,a=u.selectionEnd;if(s.shiftKey||(q=void 0),s.keyCode===37||s.keyCode===39){s.shiftKey&&q===void 0&&(q=u.selectionDirection==="forward"?g:a);const k=h[(s.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(s.preventDefault(),k(u,q===g?a:g),s.shiftKey){const R=u.selectionStart;u.setSelectionRange(Math.min(q,R),Math.max(q,R),"forward")}}else s.keyCode===8&&e.reverseFillMask!==!0&&g===a?(h.left(u,g),u.setSelectionRange(u.selectionStart,a,"backward")):s.keyCode===46&&e.reverseFillMask===!0&&g===a&&(h.rightReverse(u,a),u.setSelectionRange(g,u.selectionEnd,"forward"))}function Q(s){if(s==null||s==="")return"";if(e.reverseFillMask===!0)return $(s);const u=f;let g=0,a="";for(let k=0;k<u.length;k++){const R=s[g],F=u[k];if(typeof F=="string")a+=F,R===F&&g++;else if(R!==void 0&&F.regex.test(R))a+=F.transform!==void 0?F.transform(R):R,g++;else return a}return a}function $(s){const u=f,g=r.indexOf(K);let a=s.length-1,k="";for(let R=u.length-1;R>=0&&a>-1;R--){const F=u[R];let M=s[a];if(typeof F=="string")k=F+k,M===F&&a--;else if(M!==void 0&&F.regex.test(M))do k=(F.transform!==void 0?F.transform(M):M)+k,a--,M=s[a];while(g===R&&M!==void 0&&F.regex.test(M));else return k}return k}function A(s){return typeof s!="string"||p===void 0?typeof s=="number"?p(""+s):s:p(s)}function O(s){return d.length-s.length<=0?s:e.reverseFillMask===!0&&s.length>0?d.slice(0,-s.length)+s:s+d.slice(s.length)}return{innerValue:C,hasMask:S,moveCursorForPaste:E,updateMaskValue:m,onMaskedKeydown:H,onMaskedClick:z}}function Ln(e,t){function n(){const l=e.modelValue;try{const r="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(l)===l&&("length"in l?Array.from(l):[l]).forEach(d=>{r.items.add(d)}),{files:r.files}}catch{return{files:void 0}}}return t===!0?b(()=>{if(e.type==="file")return n()}):b(n)}const zn=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Kn=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Hn=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Qn=/[a-z0-9_ -]$/i;function jn(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Oe.is.firefox===!0?Qn.test(n.data)===!1:zn.test(n.data)===!0||Kn.test(n.data)===!0||Hn.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}var Ee=te({name:"QInput",inheritAttrs:!1,props:{...Tn,...Dn,...rt,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Pn,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:l}=J(),{$q:r}=l,d={};let f=NaN,p,V,q=null,S;const C=P(null),D=Ht(e),{innerValue:w,hasMask:B,moveCursorForPaste:N,updateMaskValue:m,onMaskedKeydown:E,onMaskedClick:h}=Nn(e,t,M,C),z=Ln(e,!0),H=b(()=>Pe(w.value)),Q=jn(R),$=$n(),A=b(()=>e.type==="textarea"||e.autogrow===!0),O=b(()=>A.value===!0||["text","search","url","tel","password"].includes(e.type)),s=b(()=>{const o={...$.splitAttrs.listeners.value,onInput:R,onPaste:k,onChange:c,onBlur:_,onFocus:ze};return o.onCompositionstart=o.onCompositionupdate=o.onCompositionend=Q,B.value===!0&&(o.onKeydown=E,o.onClick=h),e.autogrow===!0&&(o.onAnimationend=F),o}),u=b(()=>{const o={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:D.value,...$.splitAttrs.attributes.value,id:$.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return A.value===!1&&(o.type=e.type),e.autogrow===!0&&(o.rows=1),o});U(()=>e.type,()=>{C.value&&(C.value.value=e.modelValue)}),U(()=>e.modelValue,o=>{if(B.value===!0){if(V===!0&&(V=!1,String(o)===f))return;m(o)}else w.value!==o&&(w.value=o,e.type==="number"&&d.hasOwnProperty("value")===!0&&(p===!0?p=!1:delete d.value));e.autogrow===!0&&X(i)}),U(()=>e.autogrow,o=>{o===!0?X(i):C.value!==null&&n.rows>0&&(C.value.style.height="auto")}),U(()=>e.dense,()=>{e.autogrow===!0&&X(i)});function g(){De(()=>{const o=document.activeElement;C.value!==null&&C.value!==o&&(o===null||o.id!==$.targetUid.value)&&C.value.focus({preventScroll:!0})})}function a(){C.value!==null&&C.value.select()}function k(o){if(B.value===!0&&e.reverseFillMask!==!0){const I=o.target;N(I,I.selectionStart,I.selectionEnd)}t("paste",o)}function R(o){if(!o||!o.target)return;if(e.type==="file"){t("update:modelValue",o.target.files);return}const I=o.target.value;if(o.target.qComposing===!0){d.value=I;return}if(B.value===!0)m(I,!1,o.inputType);else if(M(I),O.value===!0&&o.target===document.activeElement){const{selectionStart:Z,selectionEnd:x}=o.target;Z!==void 0&&x!==void 0&&X(()=>{o.target===document.activeElement&&I.indexOf(o.target.value)===0&&o.target.setSelectionRange(Z,x)})}e.autogrow===!0&&i()}function F(o){t("animationend",o),i()}function M(o,I){S=()=>{q=null,e.type!=="number"&&d.hasOwnProperty("value")===!0&&delete d.value,e.modelValue!==o&&f!==o&&(f=o,I===!0&&(V=!0),t("update:modelValue",o),X(()=>{f===o&&(f=NaN)})),S=void 0},e.type==="number"&&(p=!0,d.value=o),e.debounce!==void 0?(q!==null&&clearTimeout(q),d.value=o,q=setTimeout(S,e.debounce)):S()}function i(){requestAnimationFrame(()=>{const o=C.value;if(o!==null){const I=o.parentNode.style,{scrollTop:Z}=o,{overflowY:x,maxHeight:T}=r.platform.is.firefox===!0?{}:window.getComputedStyle(o),Y=x!==void 0&&x!=="scroll";Y===!0&&(o.style.overflowY="hidden"),I.marginBottom=o.scrollHeight-1+"px",o.style.height="1px",o.style.height=o.scrollHeight+"px",Y===!0&&(o.style.overflowY=parseInt(T,10)<o.scrollHeight?"auto":"hidden"),I.marginBottom="",o.scrollTop=Z}})}function c(o){Q(o),q!==null&&(clearTimeout(q),q=null),S!==void 0&&S(),t("change",o.target.value)}function _(o){o!==void 0&&ze(o),q!==null&&(clearTimeout(q),q=null),S!==void 0&&S(),p=!1,V=!1,delete d.value,e.type!=="file"&&setTimeout(()=>{C.value!==null&&(C.value.value=w.value!==void 0?w.value:"")})}function y(){return d.hasOwnProperty("value")===!0?d.value:w.value!==void 0?w.value:""}ne(()=>{_()}),ge(()=>{e.autogrow===!0&&i()}),Object.assign($,{innerValue:w,fieldClass:b(()=>`q-${A.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:b(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length>0),inputRef:C,emitValue:M,hasValue:H,floatingLabel:b(()=>H.value===!0&&(e.type!=="number"||isNaN(w.value)===!1)||Pe(e.displayValue)),getControl:()=>v(A.value===!0?"textarea":"input",{ref:C,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...u.value,...s.value,...e.type!=="file"?{value:y()}:z.value}),getShadowControl:()=>v("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(A.value===!0?"":" text-no-wrap")},[v("span",{class:"invisible"},y()),v("span",e.shadowText)])});const L=In($);return Object.assign(l,{focus:g,select:a,getNativeElement:()=>C.value}),Ie(l,"nativeEl",()=>C.value),L}});function Un(){return xe(It)}async function Zn(e){return await new Promise(t=>{if(e===0)return t();setTimeout(t,e)})}function Wn(e,t){const n=document.createElement("input");return n.type="file",n.multiple=t,n.accept=e,new Promise(function(l,r){n.onchange=function(){if(n.files==null){r(new Error("file is null"));return}const d=Array.from(n.files);if(t)return l(d);l(d[0])},n.click()})}const Gn=G("div",{class:"text-h6"}," Settings ",-1),Jn={class:"row col-grow"},Yn={class:"row q-pt-sm fit"},Xn={class:"col-6"},el={class:"row q-col-gutter-xs"},tl={class:"col-6"},nl={class:"row q-col-gutter-xs justify-end"},al=Ot({__name:"IndexPage",setup(e){var i;const t=Un();window.electronAPI!=null&&(window.isCallbackRegistered.handleStartStopRecording||(window.electronAPI.handleStartStopRecording(()=>{M()}),window.isCallbackRegistered.handleStartStopRecording=!0),window.isCallbackRegistered.handleOpenSettings||(window.electronAPI.handleOpenSettings(()=>{A.value=!0}),window.isCallbackRegistered.handleOpenSettings=!0));const n=P(!1);let l;const r=[];function d(){var c;return JSON.parse((c=localStorage.getItem("settings"))!=null?c:"null")||{serverAddress:"localhost:9748",isTls:!1,autoCopy:!1}}function f(){l!=null&&l.close(),l=new WebSocket(`${w.value.isTls?"wss":"ws"}://${w.value.serverAddress}/api/transcribe`),l.onopen=()=>{n.value=!0},l.onclose=()=>{n.value=!1},l.onmessage=function(c){r.push(JSON.parse(c.data))}}function p(c){c.ctrlKey&&c.code==="KeyS"&&(c.preventDefault(),g.value?F():R())}let V;ge(()=>{f(),document.addEventListener("keydown",p),w.value=d(),window.electronAPI!=null&&D(),V=window.setInterval(()=>{n.value||f()},3e3)}),ne(()=>{document.removeEventListener("keydown",p),clearInterval(V)});const q=P(!1);function S(c){if(console.log(c),c.preventDefault(),c.key==="Delete"||c.key==="Backspace"){w.value.globalShortcut=null;return}const _=[];if(c.ctrlKey&&_.push("Ctrl"),c.altKey&&_.push("Alt"),c.shiftKey&&_.push("Shift"),c.key!=="Control"&&c.key!=="Alt"&&c.key!=="Shift"){if(_.length===0){q.value=!1;return}c.code.startsWith("Key")?_.push(c.key.toUpperCase()):_.push(c.key),q.value=!0}w.value.globalShortcut=_.join("+")}function C(){q.value||(w.value.globalShortcut=null)}async function D(){await window.electronAPI.registerGlobalShortcut(w.value.globalShortcut)||t.notify({message:"Error registering global shortcut.",color:"red"})}const w=P(d());function B(){const c=d();localStorage.setItem("settings",JSON.stringify(w.value)),(c.serverAddress!==w.value.serverAddress||c.isTls!==w.value.isTls)&&f()}async function N(){for(;!(r.length>0);)await Zn(500);return r.pop()}const m=P(JSON.parse((i=localStorage.getItem("history"))!=null?i:"[]")),E=P(m.value.length>0?m.value[m.value.length-1]:""),h=P(m.value.length-1),z=P();async function H(){if(z.value!=null)try{await navigator.clipboard.writeText(E.value),t.notify("Copied to clipboard")}catch{console.log("error")}}function Q(){h.value=Math.max(h.value-1,0),E.value=m.value[h.value]}function $(){h.value=Math.min(h.value+1,m.value.length-1),E.value=m.value[h.value]}const A=P(!1),O=P(!1);async function s(c){O.value=!0;try{l.send(JSON.stringify({type:"TRANSCRIBE"}));let _=await N();if(_.type!=="PROCEED_WITH_FILE"){E.value="** unexpected response **",O.value=!1;return}const y=new FileReader,L=new Promise((o,I)=>{y.onload=function(Z){var x;o((x=Z.target)==null?void 0:x.result)},y.onerror=function(){I(y.error)}});switch(y.readAsArrayBuffer(c),l.send(await L),_=await N(),_.type){case"TRANSCRIPT":E.value=_.content,m.value.push(_.content),m.value.length>500&&m.value.shift(),localStorage.setItem("history",JSON.stringify(m.value)),h.value=m.value.length-1;break;case"TRANSCRIPTION_ERROR":E.value="ERROR: "+_.content;break;default:E.value="** unexpected response **"}if(w.value.autoCopy)try{await navigator.clipboard.writeText(E.value),t.notify("Copied to clipboard")}catch{console.log("error")}}catch(_){console.log(_),t.notify({message:"Error while processing the request.",color:"red"})}finally{O.value=!1}}async function u(){await s(await Wn("audio/*",!1))}const g=P(!1),a=P(0);let k;async function R(){g.value=!0,a.value+=1;const c=await navigator.mediaDevices.getUserMedia({audio:!0}),_=new Promise((o,I)=>{const Z=[];k=new MediaRecorder(c),k.addEventListener("dataavailable",x=>{x.data.size>0&&Z.push(x.data)}),k.addEventListener("stop",()=>{const x=new Blob(Z,{type:"audio/wav"});Z.length=0,o(x)}),k.start()}),y=a.value.toString();console.log("id",y),setTimeout(async()=>{console.log("id, current",y,a.value.toString()),g.value&&y===a.value.toString()&&(await F(),t.notify("Recording time exceeded 1m, forcing stop."))},6e4);const L=await _;c.getTracks().forEach(o=>o.stop()),g.value=!1,await s(L)}async function F(){k&&k.state!=="inactive"&&k.stop()}function M(){g.value?F():R()}return(c,_)=>(Ve(),Re(qn,{class:"q-pa-sm flex column"},{default:le(()=>[j(kn,{modelValue:A.value,"onUpdate:modelValue":_[4]||(_[4]=y=>A.value=y),persistent:""},{default:le(()=>[j(Gt,{style:{"min-width":"350px"}},{default:le(()=>[j(Ke,null,{default:le(()=>[Gn]),_:1}),j(Ke,{class:"q-pt-none q-col-gutter-sm"},{default:le(()=>[j(Me(Ee),{modelValue:w.value.serverAddress,"onUpdate:modelValue":_[0]||(_[0]=y=>w.value.serverAddress=y),dense:"",label:"Server address"},null,8,["modelValue"]),G("div",null,[j(He,{modelValue:w.value.isTls,"onUpdate:modelValue":_[1]||(_[1]=y=>w.value.isTls=y),label:"HTTPS"},null,8,["modelValue"])]),G("div",null,[j(He,{modelValue:w.value.autoCopy,"onUpdate:modelValue":_[2]||(_[2]=y=>w.value.autoCopy=y),label:"Auto copy responses"},null,8,["modelValue"])]),j(Me(Ee),{modelValue:w.value.globalShortcut,"onUpdate:modelValue":_[3]||(_[3]=y=>w.value.globalShortcut=y),label:"Global start/stop voice recording shortcut",clearable:"",dense:"",onKeydown:S,onKeyup:C},null,8,["modelValue"])]),_:1}),j(Wt,{align:"right",class:"text-primary"},{default:le(()=>[Dt(j(ae,{flat:"",label:"Ok",onClick:B},null,512),[[_n]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),G("div",Jn,[j(Me(Ee),{ref_key:"outputInput",ref:z,modelValue:E.value,"onUpdate:modelValue":_[5]||(_[5]=y=>E.value=y),type:"textarea",class:"col text-area",style:{width:"500px"},filled:""},null,8,["modelValue"])]),G("div",Yn,[G("div",Xn,[G("div",el,[G("div",null,[j(ae,{icon:"content_copy",dense:"",onClick:H})]),G("div",null,[j(ae,{icon:"navigate_before",dense:"",disable:h.value<=0,onClick:Q},null,8,["disable"])]),G("div",null,[j(ae,{icon:"navigate_next",dense:"",disable:h.value>=m.value.length-1,onClick:$},null,8,["disable"])]),G("div",null,[j(ae,{icon:"settings",dense:"",onClick:_[6]||(_[6]=y=>A.value=!0)})])])]),G("div",tl,[G("div",nl,[G("div",null,[j(xn,{color:n.value?"green":void 0,"text-color":n.value?"white":void 0},{default:le(()=>[Nt(Lt(n.value?"online":"offline"),1)]),_:1},8,["color","text-color"])]),G("div",null,[j(ae,{icon:"upload_file",dense:"",loading:O.value,disable:!n.value,onClick:u},null,8,["loading","disable"])]),G("div",null,[j(ae,{color:"primary",dense:"",loading:O.value,disable:!n.value,onClick:M},{default:le(()=>[g.value?(Ve(),Re(Sn,{key:0})):(Ve(),Re(ie,{key:1,name:"record_voice_over"}))]),_:1},8,["loading","disable"])])])])])]),_:1}))}});export{al as default};
